<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./style.css" />
    <title>Document</title>
  </head>
  <body>
    <!-- <img src="./Hacktoberfest-2016.png" alt="hack" class="wallpaper" /> -->
    <!-- <img src="./MH.svg" alt="MH" class="svg" /> -->

    <svg version="1.1"
      width="1920" height="1080"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
      class="svg"><!-- Size the SVG as a HD wallpaper & add xlink-->

      <defs>

        <!-- The path below define the contour of the M
        it required an id to be use in the body of the SVG
        it is also include in a clipPath to crop the fill path
        -->
        <clipPath id="clipM">
          <path id="shapeM" class="accent" fill="none" stroke="currentColor" stroke-width="5"
            d="M220 550 l-30 -30 v-370
            l-10 -10 -50 50 -20 -20 90 -90 50 50
            l80 80 60 -60
            l-30 -30 40 -40 50 50 v340
            l10 10 50 -50 20 20 -90 90 -50 -50
            v-170 -60 l-60 60 -80 -80 
            v280 z
            "
          />
        </clipPath>

        <!-- The path below define the contour of the H
        it required an id to be use in the body of the SVG
        it is also include in a clipPath to crop the fill path
        -->
        <clipPath id="clipH">
          <path id="shapeH" class="accent" fill="none" stroke="currentColor" stroke-width="5"
            d="M220 550 l-30 -30 v-370
            l-10 -10 -50 50 -20 -20 90 -90 50 50
            v170 l80 -80 v-70
            l-30 -30 40 -40 50 50 v340
            l10 10 50 -50 20 20 -90 90 -50 -50
            v-170 l-80 80 v120 z
            "
          />
        </clipPath>

        <!-- The path below define a code representation
        it is used to fill the letters defined above
        -->
        <g id="Fill">
          <path fill="none" stroke="currentColor" stroke-width="5" stroke-linecap="round"
            d="M120 90 h20 m10 0 h30 m10 0 h60 M330 90 h50
            M120 100 h20 m10 0 h60 M330 100 h120
            M120 110 h20 m10 0 h40 m10 0 h30 M330 110 h30 m10 0 h60
            M120 120 h20 m10 0 h40 m10 0 h50 M330 120 h30 m10 0 h30 m10 0 h30
            M120 130 h20 m10 0 h10 m10 0 h20
            M120 150 h10 m10 0 h70 m10 0 h40 M330 150 h10
            M120 160 h10 m10 0 h30 m10 0 h30 M330 160 m20 0 h20 m10 0 h30 m10 0 h60
            M190 170 m20 0 h20 m10 0 h20 m10 0 h20 M330 170 m20 0 h10 m10 0 h30 m10 0 h10 m10 0 h30
            M190 180 m20 0 h40 m10 0 h40 M330 180 m20 0 h30 m10 0 h30 m10 0 h20
            M190 190 m20 0 h10
            M190 200 m20 0 h10
            M190 210 m20 0 h20 m10 0 h20 M330 210 h10
            M190 220 h10 M330 220 m20 0 h10 m10 0 h20
            M190 230 h10 m10 0 h60 m10 0 h30 M330 230 m20 0 h10 m10 0 h30 m10 0 h10 m10 0 h20
            M190 240 h100
            M190 260 h10 M330 260 h10 m10 0 h100
            M190 270 m20 0 h20 m10 0 h30 M330 270 h30 m10 0 h30 m10 0 h50
            M190 280 m20 0 h10 m10 0 h20 m10 0 h20 m10 0 h20
            M190 290 m20 0 h10 m10 0 h30 m10 0 h30
            M190 300 m20 0 h10 m10 0 h30 m10 0 h30 M330 300 h10
            M190 310 m20 0 h10 m10 0 h30 m10 0 h30 M330 310 m20 0 h20 m10 0 h40
            M190 320 m20 0 h10 m10 0 h20 m10 0 h50 M330 320 m20 0 h20 m10 0 h40
            M190 330 h10 m10 0 h20 M330 330 m20 0 h30 m10 0 h30 m10 0 h40
            M190 350 h20 m10 0 h40 m10 0 h10 m10 0 h20
            M190 360 h30 m10 0 h10 m10 0 h50 M330 360 h20 m10 0 h30 m10 0 h60
            M190 370 h10 m10 0 h40 M330 370 h10 m10 0 h40 m10 0 h20
            M190 390 h10
            M190 400 m20 0 h20 m10 0 h30 M330 400 h10
            M190 410 m20 0 h10 m10 0 h20 M330 410 m20 0 h20 m10 0 h30
            M190 420 m20 0 h10 m10 0 h20 M330 420 m20 0 h20 m10 0 h30
            M190 430 m20 0 h20 m10 0 h20 M330 430 m20 0 h20 m10 0 h30
            M190 440 h10 M330 440 m20 0 h40 m10 0 h30 m10 0 h20
            M190 460 h10
            M190 470 m20 0 h30 M330 470 h10 m10 0 h60 m10 0 h10 m10 0 h20 m10 0 h30
            M190 480 m20 0 h10 m10 0 h20 M330 480 h20 m10 0 h50 m10 0 h20 m10 0 h60
            M190 490 m20 0 h20 m10 0 h20 M330 490 h10 m10 0 h20 m10 0 h30 m10 0 h40
            M190 500 m20 0 h10 m10 0 h30 M330 500 h30 m10 0 h20 m10 0 h40 m10 0 h20
            M190 510 m20 0 h30 m10 0 h20
            M190 520 h10
            M190 530 M330 530 m30 0 h100
            M190 540 h30
            "
          />
        </g>

        <!-- Mother board branches -->
        <g id="branchLeft">
          <path fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" 
            d="
            M170 170 v330
            M170 170 l-140 140
            M170 170 m-40 40 h-30 l-30 30
            M170 170 m-80 80 v30 l-30 30
            M170 170 v80 l-30 30 v180
            M170 170 v80 l-30 30 v40 l-60 60
            M170 170 v80 l-30 30 v100 l-40 40 v30
            " />
          <g class="accent" fill="currentColor" stroke="currentColor" stroke-width="3" filter="url(#accent-glow)">
            <circle cx="170" cy="500" r="4"/>
            <circle cx="30" cy="310" r="4"/>
            <circle cx="70" cy="240" r="4"/>
            <circle cx="60" cy="310" r="4"/>
            <circle cx="140" cy="460" r="4"/>
            <circle cx="80" cy="380" r="4"/>
            <circle cx="100" cy="450" r="4"/>
          </g>
        </g>

        <g id="branchRight">
          <path fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" 
            d="
            M410 440 v-360
            M410 440 v-320 l-50 -50
            M410 440 l140 -140
            M410 440 m40 -40 h30 l30 -30
            M410 440 m80 -80 v-30 l30 -30
            M410 440 v-80 l30 -30 v-180
            M410 440 v-80 l30 -30 v-40 l60 -60
            M410 440 v-80 l30 -30 v-100 l40 -40 v-30
            " />
          <g class="accent" fill="currentColor" stroke="currentColor" stroke-width="3" filter="url(#accent-glow)">
            <circle cx="360" cy="70" r="4"/>
            <circle cx="410" cy="80" r="4"/>
            <circle cx="440" cy="150" r="4"/>
            <circle cx="480" cy="160" r="4"/>
            <circle cx="500" cy="230" r="4"/>
            <circle cx="520" cy="300" r="4"/>
            <circle cx="550" cy="300" r="4"/>
            <circle cx="510" cy="370" r="4"/>
          </g>
        </g>

        <g id="branchH">
          <path fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" 
            d="
            M270 250 v-190
            M270 250 v-140 l-40 -40
            M270 250 l30 -30
            M310 370 v190
            M310 370 v140 l40 40
            M310 370 l-30 30
            " />
          <g class="accent" fill="currentColor" stroke="currentColor" stroke-width="3" filter="url(#accent-glow)">
            <circle cx="270" cy="60" r="4"/>
            <circle cx="230" cy="70" r="4"/>
            <circle cx="300" cy="220" r="4"/>
            <circle cx="310" cy="560" r="4"/>
            <circle cx="350" cy="550" r="4"/>
            <circle cx="280" cy="400" r="4"/>
          </g>
        </g>

        <g id="branchM">
          <path fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" 
            d="
            M330 180 v-40
            M330 180 l-100 -100
            M370 310 v240
            M370 310 l-30 30
            M370 310 v40 l-60 60
            M370 310 v40 l-30 30 v30 l-60 60
            M370 310 v120 l-70 70
            M370 310 v120 l-30 30 v60
            M370 310 v180 l40 40
            " />
          <g class="accent" fill="currentColor" stroke="currentColor" stroke-width="3" filter="url(#accent-glow)">
            <circle cx="330" cy="140" r="4"/>
            <circle cx="230" cy="80" r="4"/>
            <circle cx="370" cy="550" r="4"/>
            <circle cx="340" cy="340" r="4"/>
            <circle cx="310" cy="410" r="4"/>
            <circle cx="280" cy="470" r="4"/>
            <circle cx="300" cy="500" r="4"/>
            <circle cx="340" cy="520" r="4"/>
            <circle cx="410" cy="530" r="4"/>
            
          </g>
        </g>

        <!-- Bloom effect -->
        <filter id="accent-glow" class="accent" x="-50%" y="-50%" width="200%" height="200%">
          <feFlood result="flood" flood-color="currentColor" flood-opacity="1"></feFlood>
          <feComposite in="flood" result="mask" in2="SourceGraphic" operator="in"></feComposite>
          <feMorphology in="mask" result="dilated" operator="dilate" radius="3"></feMorphology>
          <feGaussianBlur in="dilated" result="blurred" stdDeviation="6"></feGaussianBlur>
          <feMerge>
              <feMergeNode in="blurred"></feMergeNode>
              <feMergeNode in="SourceGraphic"></feMergeNode>
          </feMerge>
        </filter>

      </defs>

      <!-- Show SVG contour -->
      <rect width="100%" height="100%" fill="#000" stroke="none" stroke-width="5"/>

      <g id="M" transform="translate(220,230)">
        <use href="#branchLeft"/>
        <use href="#branchM" />
        <use href="#branchRight" transform="translate(60,0)"/>
        <!-- The fill is used before the contour to ensure appropriate z-index -->
        <use href="#Fill" clip-path="url(#clipM)"/>
        <use href="#shapeM" filter="url(#accent-glow)"/>
      </g> 

      <g id="H" transform="translate(1090, 230)">
        <use href="#branchLeft" />
        <use href="#branchH" />
        <use href="#branchRight" />
        <!-- The fill is used before the contour to ensure appropriate z-index -->
        <use href="#Fill" clip-path="url(#clipH)" />
        <use href="#shapeH" filter="url(#accent-glow)"/>
      </g>

    </svg>

    <!-- Slider -->
    <div class="slider">
      <input type="range" min="0" max="360" value="180" id="hue">
      <span onclick="start()" title="Restart loop">&#8634;</span>
    </div>
    <!-- Pils-->
    <div id="pils"></div>

    <script>
      var slider = document.getElementById("hue");
      var svg = document.getElementsByClassName('svg')
      var accent = document.getElementsByClassName('accent')
      var hue = 0
      var min_hue = 0
      var max_hue = 360
      var is_looping = true
      var is_forward = true
      var speed = 42

      // Create handles
      var pils = document.getElementById("pils");
      [0,30,60,90,120,150, 180, 210, 240, 270, 300, 330, 360].forEach(i => {
        var tag = document.createElement("div")
        tag.className = 'pils'
        tag.style.left = `${1500 - 4 + i}px`
        tag.style.backgroundColor = `hsl(${i}, 100%, 60%)`
        tag.style.borderColor = `hsl(${i}, 100%, 60%)`
        tag.style.boxShadow = `0px 0px 10px 5px hsl(${i}, 100%, 60%)`
        tag.onclick = () => {set(`${i}`)}
        pils.appendChild(tag);
      })

      loop()

      // Infinite increment of hue
      function loop() {
        console.log('loop')
        setInterval(() => {
          if (is_looping) {
            if (is_forward) {
              hue < max_hue ? hue++ : is_forward = false
            } else {
              hue > min_hue ? hue-- : is_forward = true
            }
            update()
          }
        }, speed)
      }

      function update() {
        // Update color
        for(i=0; i<svg.length; i++) {
          svg[i].style.color= `hsl(${hue}, 100%, 90%)`
        }
        // Update accent
        for(i=0; i<accent.length; i++) {
          accent[i].style.color= `hsl(${hue}, 100%, 60%)`
        }
        // Update slider
        slider.value = hue
      }

      function start() {
        is_looping = true;
      }
      
      function set(color) {
        console.log('set', color)
        is_looping = false
        hue = color
        slider.value = hue
        update()
      }

      slider.oninput = function() {
        console.log('slider', slider.value)
        is_looping = false
        hue = slider.value
        update()
      }

    </script>

  </body>
</html>
